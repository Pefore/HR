
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="~/Content/table.css" rel="stylesheet" />
    <link href="~/javascript/table.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/bootstrap.js"></script>
    <script src="~/Scripts/vue.js"></script>
    <title>无标题文档</title>
    <style type="text/css">
        <!--
        .style3 {
            color: #0000CC;
        }

        td {
            text-align: center;
        }
        -->
    </style>
</head>
<body>
    <div id="diva">
        <form method="post" action="/HR_Fist/salaryGrant/salaryGrantAction!toCheckList">
            <table width="100%">
                <tr>
                    <td style="text-align:left;">
                        <font color="black">您正在做的业务是:人力资源管理--薪酬发放管理--薪酬发放登记查看</font>
                        <br /><br /><br />
                    </td>
                </tr>
            </table>

            <table width="100%" border="1" cellpadding=0 cellspacing=1
                   bordercolorlight=#848284 bordercolordark=#eeeeee
                   class="TABLE_STYLE1">
                <tr>
                    <td width="10%" class="TD_STYLE1">
                        <span>薪酬发放编号</span>
                    </td>
                    <td width="20%" class="TD_STYLE1">
                        <span>I级机构名称</span>
                    </td>
                    <td width="20%" class="TD_STYLE1">
                        <span>II级机构名称</span>
                    </td>
                    <td width="20%" class="TD_STYLE1">
                        <span>III级机构名称</span>
                    </td>
                    <td width="10%" class="TD_STYLE1">
                        <span>人数</span>
                    </td>
                    <td width="10%" class="TD_STYLE1">
                        基本薪酬总额(元)
                    </td>
                </tr>

                <tr v-for="(item,i) in rows" class="TD_STYLE2">
                    <td><a v-bind:href="['/query_locate/Edit/'+item.salary_grant_id]">{{item.salary_grant_id}}</a></td>
                    <td>{{item.first_kind_name}}</td>
                    <td>{{item.second_kind_name }}</td>
                    <td>{{item.third_kind_name}}</td>
                    <td>{{item.human_amount}}</td>
                    <td>{{item.salary_standard_sum}}</td>
                </tr>


            </table>
            <p>
                <div align="center" style="font-size: 18px;color: gray">
                    &nbsp;&nbsp;总数：
                    <font style="color: maroon;font-weight: bold;" id="DAZS"></font>
                    例
                    &nbsp;&nbsp;&nbsp;
                    每页显示 <font style="color: maroon;font-weight: bold;">3</font>
                    条
                    &nbsp;&nbsp;&nbsp;
                    当前第 <font style="color: maroon;font-weight: bold;" id="dqy"></font>
                    页
                    &nbsp;&nbsp;&nbsp;共
                    <font style="color: maroon;font-weight: bold;" id="DQYW">1</font>
                    页
                    <a style="color: navy;font-weight: bold" v-on:click="sy()">首页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(0) " v-on:click="syy()">上一页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(2)" v-on:click="xyy()">下一页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(1)" v-on:click="wy()">末页</a>
                    &nbsp;&nbsp;&nbsp;跳到第
                    <input id=page type=text value="1" class=input1 size=1>
                    页&nbsp;&nbsp;
                    <input type="image" onclick="dopagebybutton()" src="../../images/go.bmp" width=18 height=18 border=0>
                    <input type="hidden" name="page.startPage" id="startpage" value="1">
                </div>
            </p>
        </form>
    </div>
</body>
</html>
<script type="text/javascript">
    var currentPage = 1;//当前页
    var pages = 1;//总页数
    var vm = new Vue({
        el: "#diva",
        data: {
            rows: null
        },
        methods: {
            load: function () {
                var v = this;
                $.ajax({
                    url: "/query_locate/FY",
                    type: "post",
                    data: { "currentPage": currentPage},
                    success: function (msg) {
                        var data = eval("(" + msg + ")");
                        v.rows = data.dt;
                        var rows = data.rows;
                        var dqy = data.dqy;
                        pages = data.pages;
                        $("#DAZS").text(rows);
                        $("#dqy").text(dqy);
                        $("#DQYW").text(pages);
                    }
                })
            },
            sy: function () {
                currentPage = 1;
                vm.load();
            },
            syy: function () {
                if (currentPage > 1) {
                    currentPage--;
                } else {
                    currentPage = 1;
                }
                vm.load();
            },
            xyy: function () {
                if (currentPage < pages) {
                    currentPage++;
                } else {
                    currentPage = pages;
                }
                vm.load();
            },
            wy: function () {
                currentPage = pages;
                vm.load();
            },
        },
        created: function () {
            this.load();
        }
    })
</script>
