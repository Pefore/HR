
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <link href="~/Content/table.css" rel="stylesheet" />
    <link href="~/Content/cwcalendar.css" rel="stylesheet" />
    <script src="~/javascript/comm/comm.js"></script>
    <script src="~/javascript/comm/list.js"></script>
    <script src="~/javascript/calendar-ch.js"></script>
    <script src="~/javascript/jquery-1.7.2.js"></script>
    <script src="~/javascript/locate.js"></script>
    <script src="~/javascript/select.js"></script>
    <script src="~/javascript/comm/time.js"></script>
    <script src="~/Scripts/vue.js"></script>
    <script src="~/DatePicker/WdatePicker.js"></script>
    <script type="text/javascript">
 			window.onload=check;
		function tick() {
			var now = new Date();
			var hours, minutes, seconds, noon;
			var intHours, intMinutes, intSeconds;
			intHours = now.getHours();
			intMinutes = now.getMinutes();
			intSeconds = now.getSeconds();
			if (intHours < 24) {
				hours = intHours+":";
				noon = "A.M.";
			} else {
				intHours = intHours - 24;
				hours = intHours + ":";
				noon = "P.M.";
			}
			if (intMinutes < 10) {
				minutes = "0"+intMinutes+":";
			} else {
				minutes = intMinutes+":";
			}
			if (intSeconds < 10) {
				seconds = "0"+intSeconds+" ";
			} else {
				seconds = intSeconds+" ";
			}
			timeString = hours+minutes+seconds;
			var now = new Date();
		  	document.getElementById("nowTime").value=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate()+" "+timeString;
			window.setTimeout("tick();", 1000);
		}

		//load事件
		function check(){
			//获得系统当前时间的方法
		  	tick();
		}
    </script>
    <script type="text/javascript">
 		function mysubmit(){
 		    if ($("#human_name").val() == "") {
 		alert("请填写姓名");
 		return false;
 		}
 		if ($("#humanMajorKindName").val() == "") {
 		    alert("请选择职位分类");
 		    return false;
 		} if ($("#humanMajorName").val() == "") {
 		    alert("请选择职位名称");
 		    return false;
 		} if ($("#engageType").val() == "") {
 		    alert("请选择招聘类型");
 		    return false;
 		} if ($("#human_sex").val() == "") {
 		    alert("请选择性别");
 		    return false;
 		} if ($("#human_email").val() == "") {
 		    alert("请填写email");
 		    return false;
 		}
 		if ($("#humanNationality").val() == "") {
 		    alert("请选择国籍");
 		    return false;
 		} if ($("#humanRace").val() == "") {
 		    alert("请选择名族");
 		    return false;
 		} if ($("#humanReligion").val() == "") {
 		    alert("请选择宗教信仰");
 		    return false;
 		}
 		if ($("#humanParty").val() == "") {
 		    alert("请选择政治面貌");
 		    return false;
 		} if ($("#humanEducatedYears").val() == "") {
 		    alert("请选择教育年限");
 		    return false;
 		} if ($("#humanEducatedMajor").val() == "") {
 		    alert("请选择学历专业");
 		    return false;
 		}
 		if ($("#humanSpecility").val() == "") {
 		    alert("请选择特长");
 		    return false;
 		} if ($("#humanHobby").val() == "") {
 		    alert("请选择爱好");
 		    return false;
 		} if ($("#humanEducatedDegree").val() == "") {
 		    alert("请选择学历");
 		    return false;
 		}
 		var humanMajorKindName = $("#humanMajorKindName option:selected").text();
 		var human_major_name = $("#humanMajorName option:selected").text();
 		$.ajax({
 		    url: "/register/Add",
 		    type: "post",
 		    data: $("form").serialize() + "&humanMajorKindName=" + humanMajorKindName + "&humanmajorname=" + human_major_name + "&register="+localStorage.getItem("user"),
 		    success: function (msg) {
 		        if (msg == 0) {
 		            alert("新增失败");
 		        } else if (msg == 3) {
                    alert("暂时没有招聘该职位，查看简历是否填写错误")
 		        }
 		        else {
 		            alert("新增成功");
 		            window.location.href = "/position_release_search/Index";
 		        }
 		    }
 		});
 		}
    </script>
</head>
<body>
    @using (Ajax.BeginForm("Add", new AjaxOptions() { HttpMethod = "Post" })) {
        <input type="hidden" name="engageResume.passCheckcomment" value="不通过" />
        <input type="hidden" name="engageResume.passPasscomment" value="不通过" />
        <input type="hidden" name="engageResume.checkStatus" value="false" />
        <table width="100%">
            <tr>
                <td>
                    <font color="black">您正在做的业务是：人力资源--招聘管理--简历管理--简历登记 </font>

                </td>
            </tr>
            <tr>
                <td align="right">

                    <input type="button" value="提交" class="BUTTON_STYLE1" onclick="return mysubmit()">
                    <input type="reset" value="清除" class="BUTTON_STYLE1">
                </td>
            </tr>
        </table>
        <table width="100%" border="1" cellpadding=0 cellspacing=1
               bordercolorlight=#848284 bordercolordark=#eeeeee
               class="TABLE_STYLE1">
            <tr>
                <td class="TD_STYLE1">
                    职位分类
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanmajorkindid", ViewData["humanmajorkindid"], null, new { @id = "humanmajorkindid", @class = "INPUT_STYLE2",@hidden= "hidden" })
                    @Html.TextBox("humanMajorKindName", ViewData["humanMajorKindName"], null, new { @id = "humanMajorKindName", @class = "INPUT_STYLE2",@readonly = "readonly" })
                </td>
                <td class="TD_STYLE1">
                    职位名称
                </td>
                <td class="TD_STYLE2" width="20%">
                    @Html.TextBox("humanmajorid", ViewData["humanmajorid"], null, new { @id = "engageType", @class = "humanmajorid", @hidden = "hidden" })
                    @Html.TextBox("humanmajorname", ViewData["humanmajorname"], null, new { @id = "humanmajorname", @class = "INPUT_STYLE2",@readonly = "readonly" })
                </td>
                <td width="11%" class="TD_STYLE1">
                    招聘类型
                </td>
                <td class="TD_STYLE2" colspan="2">
                    @Html.TextBox("engagetype",ViewData["engageType"], null, new { @id = "engageType", @class = "INPUT_STYLE2" ,@readonly= "readonly" })
                </td>
                <td rowspan="6" colspan="6">
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td class="TD_STYLE1">
                    姓名
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanname", null, new { @id = "human_name", @class = "INPUT_STYLE2" })
                </td>
                <td class="TD_STYLE1">
                    性别
                </td>
                <td class="TD_STYLE2">
                    <select name="humansex" class="SELECT_STYLE1" id="human_sex">
                        <option value="">--请选择性别--</option>
                        <option value="男">男</option>
                        <option value="女">女</option>
                    </select>
                </td>
                <td class="TD_STYLE1">
                    EMAIL
                </td>
                <td colspan="2" class="TD_STYLE2">
                    @Html.TextBox("humanemail", null, new { @id = "human_email", @class = "INPUT_STYLE2" })
                </td>
            </tr>
            <tr>
                <td class="TD_STYLE1">
                    电话
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humantelephone", null, new { @id = "human_telephone", @class = "INPUT_STYLE2" })
                </td>
                <td class="TD_STYLE1">
                    家庭电话
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanhomephone", null, new { @id = "human_homephone", @class = "INPUT_STYLE2" })
                </td>
                <td class="TD_STYLE1">
                    手机
                </td>
                <td colspan="2" class="TD_STYLE2">
                    @Html.TextBox("humanmobilephone", null, new { @id = "humanMobilephone", @class = "INPUT_STYLE2" })
                </td>
            </tr>
            <tr>
                <td class="TD_STYLE1">
                    住址
                </td>
                <td colspan="3" class="TD_STYLE2">
                    @Html.TextBox("humanaddress", null, new { @id = "humanAddress", @class = "INPUT_STYLE2" })
                </td>

                <td class="TD_STYLE1">
                    邮编
                </td>
                <td colspan="2" class="TD_STYLE2">
                    @Html.TextBox("humanpostcode", null, new { @id = "humanPostcode", @class = "INPUT_STYLE2" })
                </td>
            </tr>

            <tr>
                <td class="TD_STYLE1">
                    国籍
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humannationality", @ViewBag.humanNationality as IEnumerable<SelectListItem>, "--请选择国籍--", new { @id = "humanNationality", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    出生地
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanbirthplace", null, new { @id = "humanBirthplace", @class = "INPUT_STYLE2" })
                </td>
                <td class="TD_STYLE1">
                    生日
                </td>
                <td width="13%" colspan="2" class="TD_STYLE2" onclick="qikj()">
                    @Html.TextBox("humanbirthday", null, new { @id = "humanBirthday", @class = "INPUT_STYLE2", @onchange = "age(this)" })
                </td>

            </tr>
            <tr>
                <td width="11%" class="TD_STYLE1">
                    民族
                </td>
                <td class="TD_STYLE2" width="14%">
                    @Html.DropDownList("humanrace", @ViewBag.humanRace as IEnumerable<SelectListItem>, "--请选择民族-", new { @id = "humanRace", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    宗教信仰
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humanreligion", @ViewBag.humanReligion as IEnumerable<SelectListItem>, "--请选择宗教信仰-", new { @id = "humanReligion", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    政治面貌
                </td>
                <td class="TD_STYLE2" colspan="2">
                    @Html.DropDownList("humanparty", @ViewBag.humanParty as IEnumerable<SelectListItem>, "--请选择政治面貌-", new { @id = "humanParty", @class = "SELECT_STYLE1" })
                </td>


            </tr>
            <tr>
                <td class="TD_STYLE1">
                    身份证号码
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanidcard", null, new { @id = "humanIdcard", @class = "INPUT_STYLE2" })
                </td>
                <td class="TD_STYLE1">
                    年龄
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humanage", null, new { @id = "humanAge", @class = "INPUT_STYLE2",@readonly= "readonly" })
                </td>
                <td class="TD_STYLE1">
                    毕业院校
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("humancollege", null, new { @id = "humanCollege", @class = "INPUT_STYLE2" })
                </td>
            </tr>
            <tr>
                <td class="TD_STYLE1">
                    教育年限
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humaneducatedyears", @ViewBag.humanEducatedYears as IEnumerable<SelectListItem>, "--请选择教育年限-", new { @id = "humanEducatedYears", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    学历专业
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humaneducatedmajor", @ViewBag.humanEducatedMajor as IEnumerable<SelectListItem>, "--请选择学历专业-", new { @id = "humanEducatedMajor", @class = "SELECT_STYLE1" })
                </td>

                <td class="TD_STYLE1">
                    薪酬要求
                </td>
                <td class="TD_STYLE2">
                    @Html.TextBox("demandsalarystandard", null, new { @id = "demandSalaryStandard", @class = "INPUT_STYLE2" })
                </td>
            </tr>
            <tr>

                <td class="TD_STYLE1">
                    特长
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humanspecility", @ViewBag.humanSpecility as IEnumerable<SelectListItem>, "--请选择特长-", new { @id = "humanSpecility", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    爱好
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humanhobby", @ViewBag.humanHobby as IEnumerable<SelectListItem>, "--请选择爱好-", new { @id = "humanHobby", @class = "SELECT_STYLE1" })
                </td>
                
            </tr>
            <tr>

                <td class="TD_STYLE1">
                    学历
                </td>
                <td class="TD_STYLE2">
                    @Html.DropDownList("humaneducateddegree", @ViewBag.humanEducatedDegree as IEnumerable<SelectListItem>, "--请选择学历-", new { @id = "humanEducatedDegree", @class = "SELECT_STYLE1" })
                </td>
                <td class="TD_STYLE1">
                    注册时间
                </td>
                <td class="TD_STYLE2">
                    <input type="text" name="registtime"
                           id="nowTime" readonly="readonly"
                           class="INPUT_STYLE2">
                </td>
            </tr>
            <tr>
                <td class="TD_STYLE1">
                    个人履历
                </td>
                <td colspan="7" class="TD_STYLE2">
                    <textarea name="humanhistoryrecords" rows="4" class="TEXTAREA_STYLE1"></textarea>
                </td>
            </tr>

            <tr>
                <td class="TD_STYLE1">
                    备注
                </td>
                <td colspan="7" class="TD_STYLE2">
                    <textarea name="remark" rows="4" class="TEXTAREA_STYLE1"></textarea>
                </td>
            </tr>
        </table>
    }
    <script type="text/javascript">
        function qikj() {
            WdatePicker();
        }
        function age(s) {
            var date1 = new Date($(s).val());
            var date2 = new Date();
            var date3 = date2.getTime() - date1.getTime();
            var day = Math.floor(date3 / (24 * 3600 * 1000));
            var Age = parseInt(parseFloat(day) / 365);
            $("#humanAge").val(Age);
        };
        $(function () {
            //$("#humanMajorKindName").change(function () {
            //    var value = $("#humanMajorKindName").val();
            //    $("#majorId option:gt(0)").remove();
            //    if (value.trim().length == 0 && value == null) {

            //    } else {
            //        $.ajax({
            //            url: "/register/major_kind_nameSelect",
            //            type: "post",
            //            data: "id=" + value,
            //            success: function (dt) {
            //                var dt1 = eval("(" + dt + ")");
            //                for (var i = 0; i < dt1.length; i++) {
            //                    $option = $("<option value=" + dt1[i].Position_Name_id + ">" + dt1[i].Position_Name + "</option>");
            //                    $("#humanMajorName").append($option);
            //                }
            //            }
            //        });
            //    }
            //});
        })
    </script>
</body>
</html>
